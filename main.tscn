[gd_scene load_steps=14 format=3 uid="uid://bg4mt5wcee8s8"]

[ext_resource type="PackedScene" uid="uid://cgw7amrpssd5e" path="res://player.tscn" id="2_m7wmo"]
[ext_resource type="PackedScene" uid="uid://c6hx242pvwdul" path="res://Assets/Effects/practise_dummy.tscn" id="4_i3m74"]
[ext_resource type="PackedScene" uid="uid://dmr0fcamx7t56" path="res://addons/virtual_joystick/virtual_joystick_scene.tscn" id="5_tbph1"]
[ext_resource type="StyleBox" uid="uid://bnsek0m6y1ki" path="res://mana_fill.tres" id="6_cbvn8"]
[ext_resource type="Script" path="res://player_resource_information.gd" id="6_stj1s"]
[ext_resource type="StyleBox" uid="uid://d12wmq1b0q2su" path="res://healthy_fill.tres" id="7_5bowl"]
[ext_resource type="PackedScene" uid="uid://br36o8ncp8nmm" path="res://arena_stone.tscn" id="7_hxywo"]
[ext_resource type="StyleBox" uid="uid://cn25ts4hfh5mt" path="res://poisoned_fill.tres" id="8_mb6jw"]
[ext_resource type="PackedScene" uid="uid://qcnbhx82tg3h" path="res://wall_long.tscn" id="9_lkxju"]

[sub_resource type="ImmediateMesh" id="ImmediateMesh_o66xh"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_0gbh0"]
bg_color = Color(0.14119, 0.00252895, 0.00321936, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_telhe"]
bg_color = Color(0, 0.0794029, 0.143956, 1)

[sub_resource type="GDScript" id="GDScript_hkcam"]

[node name="Main" type="Node"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.838669, 0.26882, 0.473678, -0.474369, -0.0667774, 0.87779, 0.267598, -0.960873, 0.0715156, 2, 14.3751, 5)
shadow_enabled = true
shadow_opacity = 0.8
shadow_blur = 5.0

[node name="Player" parent="." node_paths=PackedStringArray("current_enemy") instance=ExtResource("2_m7wmo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 3.5, 3)
current_enemy = NodePath("../PractiseDummy")

[node name="CameraPivot" type="Marker3D" parent="Player"]
transform = Transform3D(-4.2222e-08, 0.422618, 0.906308, 1.13133e-08, 0.906308, -0.422618, -1, -7.5904e-09, -4.30473e-08, 26, 2.5, 0)

[node name="Camera3D" type="Camera3D" parent="Player/CameraPivot"]
transform = Transform3D(1, 1.77603e-08, 1.9382e-08, -2.33182e-08, 0.258819, 0.965926, 1.21387e-08, -0.965926, 0.258819, 1, 24.9385, -13.038)
projection = 1
size = 30.0
near = 0.001
far = 100.0

[node name="LOS_debug" type="MeshInstance3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7, -1, 5)
mesh = SubResource("ImmediateMesh_o66xh")
skeleton = NodePath("../..")

[node name="PractiseDummy" parent="." node_paths=PackedStringArray("player") instance=ExtResource("4_i3m74")]
transform = Transform3D(0.5, 0, 0.866025, 0, 1, 0, -0.866025, 0, 0.5, -7, 2, 5)
player = NodePath("../Player")

[node name="Control" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="CanvasLayer" type="CanvasLayer" parent="Control"]

[node name="Virtual Joystick" parent="Control/CanvasLayer" instance=ExtResource("5_tbph1")]
offset_left = 3.0
offset_top = -190.0
offset_right = 285.0
offset_bottom = 92.0
scale = Vector2(0.66, 0.66)

[node name="PlayerResourceInformation" type="ColorRect" parent="Control" node_paths=PackedStringArray("player")]
layout_mode = 0
offset_left = 9.0
offset_top = 12.0
offset_right = 239.0
offset_bottom = 107.0
color = Color(0.270588, 0.270588, 0.270588, 0.0823529)
script = ExtResource("6_stj1s")
player = NodePath("../../Player")
mana_fill_style = ExtResource("6_cbvn8")
health_fill_style = ExtResource("7_5bowl")
poison_fill_style = ExtResource("8_mb6jw")
metadata/_edit_group_ = true

[node name="Player_health" type="ProgressBar" parent="Control/PlayerResourceInformation"]
custom_minimum_size = Vector2(200, 10)
layout_mode = 0
offset_left = 15.0
offset_top = 15.0
offset_right = 215.0
offset_bottom = 40.0
theme_override_styles/background = SubResource("StyleBoxFlat_0gbh0")
theme_override_styles/fill = ExtResource("7_5bowl")
value = 100.0
rounded = true
show_percentage = false

[node name="Player_mana" type="ProgressBar" parent="Control/PlayerResourceInformation"]
custom_minimum_size = Vector2(200, 10)
layout_mode = 0
offset_left = 15.0
offset_top = 55.0
offset_right = 215.0
offset_bottom = 80.0
theme_override_styles/background = SubResource("StyleBoxFlat_telhe")
theme_override_styles/fill = ExtResource("6_cbvn8")
value = 100.0
rounded = true
show_percentage = false

[node name="GridMap" parent="." instance=ExtResource("7_hxywo")]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, 0, 0, 0)
script = SubResource("GDScript_hkcam")

[node name="Wall2" parent="." instance=ExtResource("9_lkxju")]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, 5, 2, 13)

[node name="Wall3" parent="." instance=ExtResource("9_lkxju")]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, 13, 2, 4)

[node name="Wall4" parent="." instance=ExtResource("9_lkxju")]
transform = Transform3D(0.707107, 0, -0.707107, 0, 1, 0, 0.707107, 0, 0.707107, 5, 2, 4)
